(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-confirm-confirm"],{"0500":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("navT",{attrs:{title:"确认订单"}}),i("v-uni-view",{staticClass:"header",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeShow.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"iconfont icondizhi topIcon"}),i("v-uni-view",{staticClass:"test"},[i("v-uni-view",{staticClass:"address"},[t._v(t._s(t.addRessIndex>=0?t.list[t.addRessIndex].detail:"请添加地址"))]),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"address-real-name"},[t._v(t._s(t.addRessIndex)+"\n\t\t\t\t\t"+t._s(t.addRessIndex>=0?t.list[t.addRessIndex].real_name:"请添加地址"))]),i("v-uni-view",{staticClass:"address-phone"},[t._v(t._s(t.addRessIndex>=0?t.list[t.addRessIndex].phone:""))])],1)],1)],1),i("v-uni-view",{staticClass:"details-box"},[i("v-uni-view",{staticClass:"top"},[t._v("菜品详情")]),t._l(t.confirmData.cartInfo,function(e,a){return i("v-uni-view",{key:a,staticClass:"product-item"},[i("v-uni-view",{staticClass:"product-name"},[t._v(t._s(e.productInfo.store_name))]),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",{staticClass:"number"},[t._v(t._s(e.cart_num))]),i("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(e.productInfo.price))])],1)],1)}),i("v-uni-view",{staticClass:"bottom"},[i("v-uni-view",{staticClass:"bottom-content"},[i("v-uni-text",{staticClass:"total"},[t._v("共"+t._s(t.number)+"件，小计："),i("v-uni-text",{staticClass:"total-price"},[t._v("￥"+t._s(t.money))])],1)],1)],1)],2),i("v-uni-view",{staticClass:"pay-box"},[i("v-uni-view",{staticClass:"pay-left"},[i("v-uni-view",{staticClass:"more"},[t._v("更多支付方式"+t._s(t.payType.value))]),i("v-uni-view",{staticClass:"pay-price"},[t._v("￥"+t._s(t.money))])],1),i("v-uni-view",{staticClass:"pay-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.topayType(t.payType.id)}}},[t._v(t._s(t.payType.type))])],1),i("v-uni-view",{staticClass:"coupon-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showCoupon()}}},[i("v-uni-view",{staticClass:"left-coupon"},[t._v("可用优惠卷")]),i("v-uni-view",{staticClass:"iconjiantou icon-coupon iconfont"})],1),i("v-uni-view",{staticClass:"remarks-box"},[i("v-uni-view",{staticClass:"remarks-left"},[t._v("备注")]),i("v-uni-view",{staticClass:"remarks-right"},[t._v("口味、偏好等要求")])],1),i("v-uni-view",{staticClass:"post-box"},[i("v-uni-view",{staticClass:"post-money-box"},[i("v-uni-view",{staticClass:"post-money"},[t._v("￥"+t._s(t.money))]),i("v-uni-view",{staticClass:"postage"},[t._v("另需外送费9.0元")])],1),i("v-uni-view",{staticClass:"post-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.postOrder()}}},[t._v("提交订单"),i("v-uni-text",{staticClass:"iconfont iconjiantou icon-post"})],1)],1),t.coupon_show?i("v-uni-view",{staticClass:"coupon-list"},[i("v-uni-view",{staticClass:"coupon-header iconchahao iconfont ",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showCoupon.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"coupon-item"},[i("v-uni-view",{staticClass:"coupon-left"},[t._v("222")]),i("v-uni-view",{staticClass:"coupon-right"},[i("v-uni-view",{staticClass:"coupon-top"},[t._v("购物满100可用")]),i("v-uni-view",{staticClass:"coupon-bottom"},[i("v-uni-view",{staticClass:"coupon-time"},[t._v("{12111")]),i("v-uni-view",{staticClass:"coupon-btn"},[t._v("选择")])],1)],1)],1)],1):t._e(),t.show?i("v-uni-view",{staticClass:"address-box"},[i("v-uni-view",{staticClass:"address-header"},[i("v-uni-view",{staticClass:"iconfont iconchahao icon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeShow.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"address-title"},[t._v("选择收货地址")])],1),i("v-uni-scroll-view",{staticClass:"address-list",attrs:{"scroll-y":"true"}},t._l(t.list,function(e,a){return i("v-uni-view",{key:a,staticClass:"address-item ",class:{selected:a==t.addRessIndex}},[i("v-uni-view",{staticClass:"address-content",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.click(a,e.id)}}},[i("v-uni-view",{staticClass:"address-text"},[t._v(t._s(e.detail))]),i("v-uni-view",{staticClass:"user-box"},[i("v-uni-view",{staticClass:"address-real-name"},[t._v(t._s(e.real_name))]),i("v-uni-view",{staticClass:"address-phone"},[t._v(t._s(e.phone))])],1)],1),i("v-uni-view",{staticClass:"iconfont iconbianji address-change"})],1)}),1),i("v-uni-view",{staticClass:"add-address",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAddAddress.apply(void 0,arguments)}}},[t._v("新增送餐地址")])],1):t._e()],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"0ca9":function(t,e,i){var a=i("397e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("65ca4faf",a,!0,{sourceMap:!1,shadowMode:!1})},"1bc33":function(t,e,i){var a=i("596a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("101a48da",a,!0,{sourceMap:!1,shadowMode:!1})},"2ae3":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("cebc")),o=a(i("daf9")),s=i("c0e4"),r=i("88dc"),c=i("2f62"),d={components:{navT:o.default},data:function(){return{show:!1,confirmData:{},i:0,list:[],coupon_show:!1}},methods:{postOrder:function(){console.log(this.payType);var t="";t=(this.payType.id=0)?"zhifubao":"weixin",(0,s.orderCreate)(this.confirmData.orderKey,{addressId:this.list[this.addRessIndex].id,couponId:"",payType:t,mark:"快点"}).then(function(t){console.log(t)})},click:function(t,e){for(var i=this,a=0;a<this.list.length;a++)this.list[a].is_default=0;this.list[t].is_default=1,(0,r.addressDefaultSet)({id:e}).then(function(t){if("ok"!=t.data.msg)return!1;i.show=!i.show})},topayType:function(t){uni.navigateTo({url:"/pages/payType/payType?id="+t})},changeShow:function(){this.show=!this.show},showCoupon:function(){this.coupon_show=!this.coupon_show},toAddAddress:function(){uni.navigateTo({url:"../addAddress/addAddress"})}},computed:(0,n.default)({},(0,c.mapState)(["payType"]),{addRessIndex:function(){if(0==this.list.length)return-1;for(var t=0;t<this.list.length;t++)if(1==this.list[t].is_default)return t},number:function(){for(var t=0,e=0;e<this.confirmData.cartInfo.length;e++)t+=this.confirmData.cartInfo[e].cart_num;return t},money:function(){for(var t=0,e=0;e<this.confirmData.cartInfo.length;e++)t+=this.confirmData.cartInfo[e].cart_num*this.confirmData.cartInfo[e].productInfo.price;return t}}),onLoad:function(t){var e=this;void 0!=t&&(0,s.orderConfirm)({cartId:t.str}).then(function(t){t=t.data.data,e.confirmData=t,console.log(e.confirmData)})},onShow:function(){var t=this;(0,r.addressList)().then(function(e){t.list=e.data.data,console.log(e.data.data)})}};e.default=d},"327f":function(t,e,i){"use strict";i.r(e);var a=i("0500"),n=i("cb1b");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("6eb2");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"1cef650b",null,!1,a["a"],s);e["default"]=c.exports},"397e":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".nav-content[data-v-3919ef36]{margin-top:%?10?%;height:%?100?%;margin-bottom:%?50?%}.icon[data-v-3919ef36]{color:#bf212e;font-size:%?40?%;margin-left:%?30?%;width:%?50?%;text-align:center}.title-box[data-v-3919ef36]{width:%?450?%;text-align:center}.title[data-v-3919ef36]{width:%?450?%;color:#bf212e;font-size:%?40?%;font-weight:700;text-align:center}.bottom[data-v-3919ef36]{margin-top:%?-15?%;margin-left:%?165?%;height:%?20?%;width:%?120?%}.box[data-v-3919ef36]{width:%?20?%;height:%?20?%;background-color:#df3331;float:left;margin:0 %?10?%}",""])},"596a":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".coupon-list[data-v-1cef650b]{position:fixed;bottom:0;left:0;z-index:2;width:100%;background-color:#eee;padding-bottom:%?60?%;border-bottom:%?1?% solid #999}.coupon-header[data-v-1cef650b]{width:100%;padding-left:%?20?%;color:#bf212e;height:%?80?%;line-height:%?80?%}.coupon-item[data-v-1cef650b]{width:%?600?%;padding:%?10?% %?75?%;height:%?150?%}.coupon-left[data-v-1cef650b]{float:left;background-color:#f04b3c;width:%?250?%;height:%?150?%;color:#fff;text-align:center;line-height:%?150?%;border-radius:%?10?% 0 0 %?10?%}.coupon-right[data-v-1cef650b]{float:right;width:%?350?%;height:%?150?%;border-radius:0 %?10?% %?10?% 0;background-color:#fff}.coupon-top[data-v-1cef650b]{height:%?75?%;line-height:%?75?%;padding:0 %?15?%;font-size:%?30?%}.coupon-bottom[data-v-1cef650b]{height:%?75?%;padding:0 %?15?%}.coupon-time[data-v-1cef650b]{float:left;height:%?75?%;line-height:%?75?%;color:#999;font-size:%?20?%}.coupon-btn[data-v-1cef650b]{float:right;background-color:#e93323;width:%?150?%;height:%?45?%;margin:%?15?% %?20?%;font-size:%?25?%;line-height:%?45?%;border-radius:%?40?%;color:#fff;text-align:center}.coupon-box[data-v-1cef650b]{margin-top:%?20?%;background:#fff;height:%?80?%;line-height:%?80?%}.left-coupon[data-v-1cef650b]{margin-left:%?20?%;float:left;height:%?80?%;line-height:%?80?%;font-size:%?35?%}.icon-coupon[data-v-1cef650b]{float:right;height:%?80?%;line-height:%?80?%;margin:0 %?20?% 0 %?80?%}.post-box[data-v-1cef650b]{position:fixed;bottom:0;left:0;z-index:1;height:%?100?%;line-height:%?100?%;width:100%;background:#007aff;color:#fff}.post-money-box[data-v-1cef650b]{float:left;height:%?100?%}.post-money[data-v-1cef650b]{font-size:%?30?%;float:left;margin-left:%?25?%}.postage[data-v-1cef650b]{margin-left:%?10?%;float:left;font-size:%?25?%}.post-btn[data-v-1cef650b]{float:right;height:%?100?%;line-height:%?100?%;width:%?200?%;border-left:%?1?% solid #eee;text-align:center;font-size:%?35?%}.content[data-v-1cef650b]{width:100% ;height:100%;background:#fafafa}.header[data-v-1cef650b]{width:100%;height:%?200?%;background:#fff}.topIcon[data-v-1cef650b]{color:#bf212e;font-size:%?40?%;width:%?50?%;text-align:center;float:left;height:%?150?%;line-height:%?150?%;margin:%?25?% %?10?%}.test[data-v-1cef650b]{margin:%?25?% %?10?%;float:left;color:#333;height:%?150?%;width:%?600?%}.address[data-v-1cef650b]{height:%?100?%;line-height:%?50?%;font-size:%?35?%;width:100%}.info[data-v-1cef650b]{height:%?50?%;line-height:%?50?%;font-size:%?20?%}.details-box[data-v-1cef650b]{margin-top:%?20?%;background-color:#fff;width:100%}.top[data-v-1cef650b]{width:100%;height:%?50?%;line-height:%?50?%;font-size:%?35?%;font-weight:700;padding-left:%?20?%;border-bottom:%?1?% solid #eee}.product-item[data-v-1cef650b]{height:%?50?%;width:100%}.product-name[data-v-1cef650b]{float:left;height:%?50?%;line-height:%?50?%;color:grey;font-size:%?30?%;margin-left:%?20?%}.right[data-v-1cef650b]{float:right;height:%?50?%}.number[data-v-1cef650b]{float:right;height:%?50?%;line-height:%?50?%;font-size:%?25?%;color:grey;width:%?40?%;margin-right:%?20?%;text-align:center}.price[data-v-1cef650b]{float:right;height:%?50?%;line-height:%?50?%;font-weight:700;font-size:%?30?%;width:%?120?%;text-align:center}.bottom[data-v-1cef650b]{height:%?80?%;width:100%;border-top:%?1?% solid #eee}.bottom-content[data-v-1cef650b]{height:%?80?%;line-height:%?80?%;margin-right:%?20?%;float:right}.total[data-v-1cef650b]{font-size:%?30?%}.total-price[data-v-1cef650b]{font-size:%?35?%;font-weight:700;color:#df3331}.pay-box[data-v-1cef650b]{margin-top:%?20?%;width:100%;background:#fff;height:%?100?%}.pay-left[data-v-1cef650b]{float:left;height:%?100?%}.more[data-v-1cef650b]{padding-top:%?10?%;height:%?40?%;line-height:%?40?%;font-size:%?30?%;margin-left:%?20?%}.pay-price[data-v-1cef650b]{padding-bottom:%?10?%;height:%?40?%;line-height:%?40?%;font-size:%?25?%;margin-left:%?20?%;color:#bf212e}.pay-right[data-v-1cef650b]{float:right;height:%?100?%;line-height:%?100?%;margin-right:%?20?%;font-size:%?35?%}.remarks-box[data-v-1cef650b]{margin-top:%?20?%;width:100%;background:#fff;height:%?100?%}.remarks-left[data-v-1cef650b]{height:%?100?%;line-height:%?100?%;font-size:%?35?%;font-weight:700;margin-left:%?20?%;float:left}.remarks-right[data-v-1cef650b]{height:%?100?%;line-height:%?100?%;font-size:%?35?%;font-weight:700;margin-right:%?20?%;float:right}.address-box[data-v-1cef650b]{position:fixed;bottom:0;left:0;width:100%;height:%?800?%;background-color:#fff;z-index:2}.address-header[data-v-1cef650b]{width:100%;height:%?100?%;position:relative;background:#eee}.icon[data-v-1cef650b]{position:absolute;top:%?20?%;left:%?25?%;line-height:%?60?%;height:%?60?%;color:red;font-size:%?30?%}.address-title[data-v-1cef650b]{width:100%;height:%?80?%;line-height:%?80?%;text-align:center;font-size:%?35?%}.address-list[data-v-1cef650b]{height:%?600?%}.address-item[data-v-1cef650b]{padding:%?25?%;height:%?100?%;width:%?700?%;border-top:%?1?% solid #eee;border-bottom:%?1?% solid #eee}.address-content[data-v-1cef650b]{float:left;height:%?100?%;width:%?600?%}.address-text[data-v-1cef650b]{width:%?600?%;height:%?70?%;line-height:%?70?%}.user-box[data-v-1cef650b]{width:%?600?%;height:%?30?%}.address-real-name[data-v-1cef650b]{height:%?30?%;line-height:%?30?%;font-size:%?25?%;color:#666;float:left}.address-phone[data-v-1cef650b]{float:left;margin-left:%?20?%;height:%?30?%;line-height:%?30?%;font-size:%?25?%;color:#666}.address-change[data-v-1cef650b]{float:right;height:%?100?%;line-height:%?100?%;color:red;font-size:%?40?%}.add-address[data-v-1cef650b]{height:%?80?%;width:100%;line-height:%?80?%;text-align:center;font-size:%?35?%;color:#8f212e}.selected[data-v-1cef650b]{border-left:3px solid #bf212e}",""])},"6eb2":function(t,e,i){"use strict";var a=i("1bc33"),n=i.n(a);n.a},"88dc":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.login=s,e.register=r,e.addressEdit=c,e.addressDel=d,e.addressList=u,e.addressDetail=l,e.addressDefaultSet=f,e.addressDefault=h,e.user=v,e.userinfo=g,e.userEdit=p,e.logout=b,e.couponReceive=w,e.couponReceiveBatch=m,e.couponsUser=C;var n=a(i("e2d1")),o=a(i("2b37"));function s(t){return o.default.urlRequest("/api/login",t)}function r(t){return o.default.urlRequset("/api/register",t)}function c(t){return o.default.urlRequest("/api/address/edit",t)}function d(t){return o.default.urlRequest("/api/address/del",t)}function u(t){return n.default.urlRequest("/api/address/list",t)}function l(t){return n.default.urlRequest("/api/address/detail/"+t)}function f(t){return o.default.urlRequest("/api/address/default/set",t)}function h(t){return n.default.urlRequest("/api/address/default",t)}function v(t){return n.default.urlRequest("/api/user",t)}function g(t){return n.default.urlRequest("/api/userinfo",t)}function p(t){return o.default.urlRequest("/api/user/edit",t)}function b(t){return n.default.urlRequest("/api/logout",t)}function w(t){return o.default.urlRequest("/api/coupon/receive",t)}function m(t){return o.default.urlRequest("/api/coupon/receive/batch",t)}function C(t){return n.default.urlRequest("/api/coupons/user/"+t)}},"8b09":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("uni-nav-bar",{attrs:{fixed:!0,"status-bar":!0}},[i("v-uni-view",{staticClass:"title-box"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.title))]),i("v-uni-view",{staticClass:"bottom"},[i("v-uni-view",{staticClass:"box"}),i("v-uni-view",{staticClass:"box"}),i("v-uni-view",{staticClass:"box"})],1)],1),i("v-uni-view",{attrs:{slot:"left"},slot:"left"},[i("v-uni-view",{staticClass:"iconfont iconjiantou-copy icon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click()}}})],1),i("v-uni-view",{attrs:{slot:"right"},slot:"right"})],1)],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"8e13":function(t,e,i){"use strict";i.r(e);var a=i("e526"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"9ccb":function(t,e,i){"use strict";var a=i("0ca9"),n=i.n(a);n.a},c0e4:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.orderList=s,e.orderCreate=r,e.orderCancel=c,e.orderTake=d,e.orderProduct=u,e.orderDetail=l,e.orderComputed=f,e.orderAgain=h,e.orderConfirm=v,e.orderPay=g;var n=a(i("e2d1")),o=a(i("2b37"));function s(t){return n.default.urlRequest("/api/order/list",t)}function r(t,e){return o.default.urlRequest("/api/order/create/"+t,e)}function c(t){return o.default.urlRequest("/api/order/cancel",t)}function d(t){return o.default.urlRequest("/api/order/take",t)}function u(t){return o.default.urlRequest("/api/order/product",t)}function l(t){return n.default.urlRequest("/api/order/detail/"+t)}function f(t,e){return o.default.urlRequest("/api/order/computed/"+t,e)}function h(t){return o.default.urlRequest("/api/order/again",t)}function v(t){return o.default.urlRequest("/api/order/confirm",t)}function g(t){return o.default.urlRequest("/api/order/pay",t)}},cb1b:function(t,e,i){"use strict";i.r(e);var a=i("2ae3"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},daf9:function(t,e,i){"use strict";i.r(e);var a=i("8b09"),n=i("8e13");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("9ccb");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"3919ef36",null,!1,a["a"],s);e["default"]=c.exports},e526:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("4ed6")),o={components:{uniNavBar:n.default},data:function(){return{}},methods:{click:function(){uni.navigateBack({delta:1})}},props:["title"]};e.default=o}}]);